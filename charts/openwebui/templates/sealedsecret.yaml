# SealedSecret for OpenWebUI
# Encrypted by sealed-secrets controller - safe to commit to Git
#
# To generate/update this encrypted secret:
# 1. Ensure sealed-secrets controller is running: kubectl get pods -n kube-system | grep sealed-secrets
# 2. Install kubeseal CLI: brew install kubeseal
# 3. Generate encrypted secret:
#    kubectl create secret generic openwebui-secret \
#      --from-literal=webui-secret-key=$(openssl rand -base64 32) \
#      --dry-run=client -o yaml --namespace=ai-platform | \
#    kubeseal --controller-namespace=kube-system \
#      --controller-name=sealed-secrets-controller \
#      --format=yaml
# 4. Replace the encryptedData section below with the output
#
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: {{ include "openwebui.fullname" . }}-secret
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "openwebui.labels" . | nindent 4 }}
spec:
  encryptedData:
    # PLACEHOLDER - Replace after sealed-secrets controller is deployed
    webui-secret-key: AgBKMEXAMPLEENCRYPTEDDATAREPLACEME...
  template:
    metadata:
      name: {{ include "openwebui.fullname" . }}-secret
      namespace: {{ .Release.Namespace }}
      labels:
        {{- include "openwebui.labels" . | nindent 8 }}
    type: Opaque
