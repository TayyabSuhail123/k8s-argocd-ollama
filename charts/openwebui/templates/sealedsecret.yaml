# SealedSecret for OpenWebUI
# Encrypted by sealed-secrets controller - safe to commit to Git
#
# To generate/update this encrypted secret:
# 1. Ensure sealed-secrets controller is running: kubectl get pods -n kube-system | grep sealed-secrets
# 2. Install kubeseal CLI: brew install kubeseal
# 3. Generate encrypted secret:
#    kubectl create secret generic openwebui-secret \
#      --from-literal=webui-secret-key=$(openssl rand -base64 32) \
#      --dry-run=client -o yaml --namespace=ai-platform | \
#    kubeseal --controller-namespace=kube-system \
#      --controller-name=sealed-secrets-controller \
#      --format=yaml
# 4. Replace the encryptedData section below with the output
#
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: {{ include "openwebui.fullname" . }}-secret
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "openwebui.labels" . | nindent 4 }}
spec:
  encryptedData:
    # Generated: 2025-11-08 (openssl rand -base64 32 | kubeseal)
    # Safe to commit - only the cluster's sealed-secrets controller can decrypt
    webui-secret-key: AgBr5wPhJXgJgxUqwoWTTNI9j5sbkO7/DDg3skyrYwZXKJsMqc5NRYXCpEMaF5wBYKkazuRDCG8IldiUB1bZkrwVBFj5NC/QYsYtARcjbEIEKxDd+/jpyZIaRNlR6iBVJxrdFcAl6VsKIsmft2Zs/XSdjwTAMi27GVqxUJSzwRCoPW4PV04/pna54wKrPvkFxmZARLQyF3sf6B1wXmKNR+3ZTYpSojU0uXBNht5iImbC5t7lkjKK4YQKbj88HsAKrbkYw59Gihw2In4vqPcS3bF8ZXLEiZrsSaGChMFSKXq5vXBSLw+cEMJ5tUEzSCf28XG+Pg4WPZ9MV0qY8buIocyfrzMMDBDU9538QZbG+7JywG9Dmbp7GGnxD04cVSs7q5atlyszYKaOjZMNo94hQqA9m9XbZ0tRsJEnC1VMYQ+zLiyWFBxkM/3sFBRrNURXa66iTmI4/xwMMrCViuPif2w/QT3ozSfAgCUcwghNz4XpaeB2gVUJPnf2jaOg0SJJOPt5o4KvteIWLKGSWH0IhWUqNxPYNN7kfcHQaw8Q4o+Rvm8CHz6tkFp5rDtcnHy5On5k49cgumvDZREUMB81a96zQhtObNWimnKQRx3MKI6eRkLyTOfu4QQbt3H0cIQTQrEsyz6Thx82gHHFnd3on5yZ5sHici7dAoeW3VhPwKv/n1K2bpb0W9fRjrTQkdbqtJLfZeEbLObme44mFsTaTf+uyWsX5DDuo/gwEN/yDtP9pUaPms0uKRfcAMI0cA==
  template:
    metadata:
      name: {{ include "openwebui.fullname" . }}-secret
      namespace: {{ .Release.Namespace }}
      labels:
        {{- include "openwebui.labels" . | nindent 8 }}
    type: Opaque
